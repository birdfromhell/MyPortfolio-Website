---
import Skills from '../components/Skills.astro'

// SEO Metadata
const title = "Larry Xue - Frontend Engineer & UI/UX Designer";
const description = "Frontend Developer with over 2 years of experience, specializing in web application development. Currently at eSurfing Cloud, crafting engaging user experiences.";
---

<!-- Add SEO metadata -->
<head>
  <title>{title}</title>
  <meta name="description" content={description} />
  <meta name="keywords" content="Frontend Engineer, UI/UX Designer, Web Developer, React, JavaScript, TypeScript" />
  
  <!-- OpenGraph tags -->
  <meta property="og:title" content={title} />
  <meta property="og:description" content={description} />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="/images/avatar.png" />
  
  <!-- Twitter Card tags -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content={title} />
  <meta name="twitter:description" content={description} />
  <meta name="twitter:image" content="/images/avata.png" />
</head>

<section class="min-h-screen flex items-center py-8 md:py-12 relative overflow-hidden pt-16" id="hero">
  <div class="container mx-auto px-4 md:px-6 max-w-3xl">
    <!-- Main Content -->
    <div class="flex flex-col items-center md:items-start space-y-6">
      <div class="w-32 h-32 md:w-40 md:h-40 rounded-full overflow-hidden flex-shrink-0 border-4 border-primary" id="hero-avatar">
        <img src="/images/image.png" alt="Larry Xue" class="w-full h-full object-cover">
      </div>

      <h1 class="text-3xl md:text-4xl lg:text-5xl font-bold text-center md:text-left" id="hero-title">
        Hi, I'm <span class="text-primary">Ababil Mustaqim</span>
      </h1>

      <div class="space-y-1 md:space-y-2 text-center md:text-left" id="hero-roles">
        <p class="text-lg md:text-xl font-medium">Junior Backend Engineer ðŸ’»</p>
        <!-- <p class="text-lg md:text-xl font-medium">Side Project Manage ðŸš€</p> -->
      </div>

      <div class="flex space-x-4" id="hero-cta">
        <button
          class="appearance-none py-2 px-4 bg-blue-500 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-opacity-75 flex items-center"
        >
          <a href="https://blog-lovat-delta.vercel.app/" target="_blank">Blog</a>
          <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 ml-1" viewBox="0 0 20 20" fill="currentColor">
            <path d="M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z"></path>
          </svg>
        </button>
        <button
          class="appearance-none py-2 px-4 bg-purple-500 text-white font-semibold rounded-lg shadow-md hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-opacity-75 flex items-center"
        >
          <a href="#" target="_blank">Resume</a>
          <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 ml-1" viewBox="0 0 20 20" fill="currentColor">
            <path d="M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z"></path>
          </svg>
        </button>
      </div>

      <!-- About Section -->
      <div class="mt-8 text-center md:text-left max-w-2xl" id="hero-about">
        <h2 class="text-xl md:text-2xl font-semibold mb-4">A bit about me</h2>
        <p class="text-base md:text-lg leading-relaxed opacity-90">
          Hey there! ðŸ‘‹ I'm Ababil Mustaqim a Backend Web & mobile Developer from Bandung . I have a passion for creating Great Backend App, But i Bad In Frontend. I have experience with various programming languages and specifically web technologies. Life is a continuous learning process, so work makes me more rigorous.
        </p>
      </div>

      <button 
        id="toggle-skills" 
        class="flex items-center space-x-2 text-primary hover:text-primary-light transition-colors"
      >
        <span>View My Skills</span>
        <svg id="toggle-icon" class="w-5 h-5 transform transition-transform duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
        </svg>
      </button>
    </div>

    <!-- Skills Section -->
    <div id="skills-section" class="mt-8 md:mt-12 hidden">
      <Skills />
    </div>
  </div>
</section>

<script>
  import { gsap } from 'gsap'
  import { ScrollTrigger } from 'gsap/ScrollTrigger'

  gsap.registerPlugin(ScrollTrigger)

  document.addEventListener('DOMContentLoaded', () => {
    // Toggle skills section
    const toggleBtn = document.getElementById('toggle-skills')
    const skillsSection = document.getElementById('skills-section')
    const toggleIcon = document.getElementById('toggle-icon')
    let isSkillsVisible = false

    toggleBtn?.addEventListener('click', () => {
      isSkillsVisible = !isSkillsVisible
      skillsSection?.classList.toggle('hidden')
      toggleIcon?.classList.toggle('rotate-180')
      
      if (isSkillsVisible) {
        gsap.from('#skills-section', {
          height: 0,
          opacity: 0,
          duration: 0.5,
          ease: 'power2.out'
        })
      }
    })

    // Initial animations
    gsap.set(['#hero-avatar', '#hero-title', '#hero-roles', '#hero-about', '#hero-cta', '#toggle-skills'], {
      opacity: 0,
      y: 50,
    })

    // Animation timeline
    gsap.timeline()
      .to('#hero-avatar', {
        y: 0,
        opacity: 1,
        duration: 1,
        ease: 'power4.out',
      })
      .to(['#hero-title', '#hero-roles', '#hero-about', '#hero-cta', '#toggle-skills'], {
        y: 0,
        opacity: 1,
        duration: 1,
        stagger: 0.2,
        ease: 'power4.out',
      }, '-=0.5')
  })
</script>
